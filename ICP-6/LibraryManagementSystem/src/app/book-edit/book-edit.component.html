<div class="button-row">
  <a mat-raised-button color="primary" [routerLink]="['/books']"><mat-icon>list</mat-icon></a>
</div>
<div class = "row">
  <div class = 'col-md-6'>
    <mat-card class="example-card">
      <!--Edit page's initial values are filled by the getBookDetails function that returns a JSON file of the current
      book using its ID. Users are free to change or leave any of the values upon saving. New values will overwrite the old ones-->
      <form [formGroup]="bookForm" (ngSubmit)="onFormSubmit(bookForm.value)">
        <mat-form-field class="example-full-width">
          <input matInput placeholder="ISBN" formControlName="isbn" [value] = "book.isbn" [(ngModel)]="book.isbn"
                 [errorStateMatcher]="matcher">
          <mat-error>
            <span *ngIf="!bookForm.get('isbn').valid && bookForm.get('isbn').touched">Please enter ISBN</span>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="example-full-width">
          <input matInput placeholder="Title" formControlName="title" [value] = "book.title" [(ngModel)]="book.title"
                 [errorStateMatcher]="matcher">
          <mat-error>
            <span *ngIf="!bookForm.get('title').valid && bookForm.get('title').touched">Please enter Book Title</span>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="example-full-width">
          <input matInput placeholder="Author" formControlName="author" [value] = "book.author" [(ngModel)]="book.author"
                 [errorStateMatcher]="matcher">
          <mat-error>
            <span *ngIf="!bookForm.get('author').valid && bookForm.get('author').touched">Please enter Book Author</span>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="example-full-width">
    <textarea matInput placeholder="Description" formControlName="description" [value] = "book.description" [(ngModel)]="book.description"
              [errorStateMatcher]="matcher"></textarea>
          <mat-error>
            <span *ngIf="!bookForm.get('description').valid && bookForm.get('description').touched">Please enter Book Description</span>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="example-full-width">
          <input matInput placeholder="Publisher" formControlName="publisher" [value] = "book.publisher" [(ngModel)]="book.publisher"
                 [errorStateMatcher]="matcher">
          <mat-error>
            <span *ngIf="!bookForm.get('publisher').valid && bookForm.get('publisher').touched">Please enter Publisher</span>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="example-full-width">
          <input matInput placeholder="Published Year" formControlName="published_year" [value] = "book.published_year" [(ngModel)]="book.published_year"
                 [errorStateMatcher]="matcher">
          <mat-error>
            <span *ngIf="!bookForm.get('published_year').valid && bookForm.get('published_year').touched">Please enter Published Year</span>
          </mat-error>
        </mat-form-field>
        <div class="button-row">
          <button type="submit" [disabled]="!bookForm.valid" mat-raised-button color="primary">
            <mat-icon>save</mat-icon>
          </button>
          <!--<a mat-raised-button color="warn" [routerLink]="['/books']"><mat-icon>undo</mat-icon></a>-->
          <!--This UNDO button will trigger the openDialog() box to ask whether user wants to go back to the homepage-->
          <a mat-raised-button color="warn" (click)="openDialog()"><mat-icon>undo</mat-icon></a>
        </div>
      </form>

    </mat-card>

  </div>
  <!--BOOK PREVIEW: Show book details in real time changes-->
  <div class = 'col-md-6'>
    <mat-card-header style="justify-content:center">
      <mat-card-title ><h1> Book Details Preview </h1></mat-card-title>
    </mat-card-header>
    <mat-card-header>
      <div mat-card-avatar class="example-header-image"></div>
      <mat-card-title><h2>{{book.title}}</h2></mat-card-title>
      <mat-card-subtitle>{{book.description}}</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <dl>
        <dt>ISBN:</dt>
        <dd>{{book.isbn}}</dd>
        <dt>Author:</dt>
        <dd>{{book.author}}</dd>
        <dt>Publisher:</dt>
        <dd>{{book.publisher}}</dd>
        <dt>Description:</dt>
        <dd>{{book.description}}</dd>
        <dt>Published Year:</dt>
        <dd>{{book.published_year}}</dd>
        <dt>Update Date:</dt>
        <dd>{{book.updated_date | date}}</dd>
      </dl>
    </mat-card-content>
    <!--<mat-card-actions>-->
      <!--<a mat-raised-button color="primary" [routerLink]="['/book-detail', book._id]"><mat-icon>edit</mat-icon></a>-->
      <!--<a mat-raised-button color="warn" (click)="deleteBook(book._id)"><mat-icon>delete</mat-icon></a>-->
    <!--</mat-card-actions>-->
  </div>
  <!--<ol>-->
    <!--<li>-->
      <!--<mat-form-field>-->
        <!--<input matInput [(ngModel)]="name" placeholder="What's your name?">-->
      <!--</mat-form-field>-->
    <!--</li>-->
    <!--<li>-->
      <!--<button mat-raised-button (click)="openDialog()">Pick one</button>-->
    <!--</li>-->
    <!--<li *ngIf="animal">-->
      <!--You chose: <i>{{animal}}</i>-->
    <!--</li>-->
  <!--</ol>-->
</div>

